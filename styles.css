/* ----------------------------
   css variables  (light mode default)
----------------------------- */

:root {
    /* base palette (light) */
    --bg: #ffffff;
    --primary: #222222;
    --secondary: #09a57c;
    --accent: #0077cc;
    --muted: #f7f7f7;
    --shadows: rgba(0 0 0 / 0.25);    /* rgb → opacity easier than hex */

    /* dark palette (alt colors) */
    --dark-bg: #121929;
    --dark-primary: #d5d5d5;
    --dark-secondary: #02f1c9cd;
    --dark-accent: #00c8ffee;
    --dark-muted: #0c101be6;
    --dark-shadows: rgba(255, 255, 255, 0.25);    /* lighter for visual effect */

    /* ocean wave(s) */
    --wave-height: 100vh;    /*bottom half backdrop */
    --wave-front-color: var(--accent);
    --wave-back-color: var(--secondary);
    --wave-bob-amp: 0.92vh;    /* vertical bob amplitude */
    /* base Y offsets to reduce the gap between layers (negative = lift up) */
    --wave-front-offset: -20.08vh;
    --wave-back-offset: -20.5vh;
    --wave-stretch: 1.27;
    --wave-overscan: 22vh;    /* extend the ocean below the viewport soit doesn't cut off */

    /* fonts */
    --font-reg: 'Helvetica Neue', sans-serif;
    --font-fun: 'Comic Sans MS', sans-serif;
    --font-accent: 'Comic Neue', cursive;

    /* randomized later (JS) */
    --popout-top: 30vh;
    --popout-left: 10vw;

    /* icon grid clarity */
    --gap: 1rem;
    --mobile-cols: 3;
    --desktop-cols: 6;
}

/* manual dark toggle overrides */
[data-theme="dark"] {
    --bg: var(--dark-bg);
    --primary: var(--dark-primary);
    --secondary: var(--dark-secondary);
    --accent: var(--dark-accent);
    --muted: var(--dark-muted);
    --shadows: var(--dark-shadows);
}



/* --------------------------------------
   theme icon (wrapper + images)
-------------------------------------- */

.theme-toggle {
    position: relative;    /* stacking context */
    inline-size: 1.75rem;
    block-size: 1.75rem;
    display: inline-block;    /* gives width/height effect */
    cursor: pointer;    /* tap target hint */
    z-index: 10;    /* ensure tap always hits the label */
}

/* size both img and inline svg icons */
.theme-toggle :is(img, svg) {
    position: absolute;    /* both icons stack */
    inset: 0;    /* fills wrapper */
    margin: auto;    /* center in wrapper */
    inline-size: 2rem;
    block-size: 2rem;
    transition: opacity 0.5s ease;    /* fade for smoothness */
    pointer-events: none;    /* lets click pass through to checkbox */
}

/* light icon visible (default) */
.light-icon { opacity: 1; }
.dark-icon { opacity: 0; }

/* dark mode (flips the icon in view) */
[data-theme="dark"] .light-icon { opacity: 0; }
[data-theme="dark"] .dark-icon { opacity: 1; }



/* ----------------------------
   reset + base layout
----------------------------- */

*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    background: var(--bg);
    color: var(--primary);
    font-family: var(--font-fun);
    line-height: 1.5;
    scroll-behavior: smooth;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* global fade every top-level surface surface */
:where(html, body, main.site, header, footer) {
    transition: background-color 0.75s ease,  color 0.55s ease;
}

/* inherit bg var directly (smoother transition) */
header,
footer { background: var(--bg); }

/* keep header padding flexible on mobile */
header { padding: 5%; }



/* ----------------------------
   typography
----------------------------- */

.tagline,
footer p {
    color: var(--primary);
    opacity: 0.75;
    word-spacing: 0.4em;    /* double-space words */
}


/* hero section  */

.hero {
    text-align: center;
    padding: 0 0 1rem 0;
}

.hero h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-block-end: 0.5rem;
}

.hero .hi {
    font-family: var(--font-fun);
    font-size: 2.25rem;
    color: var(--secondary);
}

.hero .highlight-name {
    color: var(--accent);
    font-weight: 800;
}


/* fills extra page height to push down footer */
main { flex: 1; }



/* ----------------------------
   icon grid
----------------------------- */

.icon-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;    /* spacing between icons */
    justify-content: center;    /* center the last row */
    max-width: 900px;    /* prevent grid from being too wide */
    margin: 0 auto;    /* center grid horizontally */
    padding: 1rem;
}

.icon-grid > .icon-wrapper {    /* select direct children  ;  each wrapper becomes a flex-item */
    /* starting width: flex-basis */
    flex: 1 1 calc((100% - (var(--mobile-cols) - 1)*var(--gap)) / var(--mobile-cols)); /* grow / shrink equally ; base width is for a fully populated row */
    max-width: calc((100% - (var(--mobile-cols) - 1)*var(--gap)) / var(--mobile-cols)); /* keep overlow cards the same size as  */
}

/* collapse random icon card smoothly when light-mode is active */
.icon-wrapper.off {
    flex-basis: 0 !important;
    max-width: 0 !important;
    opacity: 0;
    pointer-events: none;
    margin: 0;    /* remove 1rem gap so neighbours slide in */

}


/* smooth grid transitions */
body.ready .icon-grid > .icon-wrapper {
    transition:    flex-basis 0.2s ease,  max-width 0.6s ease,  opacity 0.6s ease,  margin 0.6s ease;
}

body.ready .icon-wrapper.off {
    transition:    flex-basis 0.2s ease,  max-width 0.2s ease,  opacity 0.2s ease,  margin 0.2s ease;
}


.icon-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;    /* take out underline */
    color: var(--muted);
    background: var(--secondary);
    padding: 1rem;
    border-radius: 0.75rem;
    transition: transform 0.2s ease;
}

.icon-item :is(img, svg) {
    inline-size: clamp(48px, 15vw, 64px);    /* start small on mobile; grow with the screen; stop growing on desktop */
    block-size: clamp(48px, 15vw, 64px);
    margin-block-end: 0.5rem;
    stroke: currentColor;
    fill: none;
    stroke-width: 1.5;
}

/* color the svg code icons */
.icon-item svg { color: var(--muted); }    /* sets the STROKE color */
.icon-item svg .accent-fill { fill: var(--accent); }    /* fills just the hex path */
.theme-icon { color: var(--secondary); }    /* sets the STROKE color */
.theme-icon { fill: var(--accent);    /* fills just the hex path */
}

/* fills just the hex path */

.icon-item:is(:hover, :focus) {
    transform: scale(1.1);
    outline: none;
}



/* ----------------------------
   footer + wave
----------------------------- */

footer {
    font-size: 0.8rem;
    font-family: var(--font-reg);
    text-align: center;
    padding: 2rem 1rem;
    /* background stays transparent so wave shows through (cascading win  -  overrides earlier header/footer bg) */
    background: transparent;    /* let waves show “behind” */
    position: relative;    /* keep footer text layered */
}

/* place footer text above the waves just to be safe */
footer > p {
    position: relative;
    z-index: 2;
}


/* DEPRECATED (SVG image)
    .wave-image {
    inline-size: 100%;
    display: block;
    margin-block-start: 2rem;
} */


header,
main,
footer {
    position: relative;
    z-index: 1;
}

/*  holds both SVG waves */
.ocean-backdrop {
    position: fixed;
    left: 50%;
    transform: translateX(-50%);    /* push ocean a bit AND make it a bit taller */
    bottom: calc(-1 * var(--wave-overscan));
    height: calc(var(--wave-height) + var(--wave-overscan));
    width: 160vw;    /* wider than screen, no edges */
    pointer-events: none;    /* don't block clicks */
    z-index: 0;    /* content appears above this */
    /* fade toward the bottom so bg shows through */
    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.95) 55%, rgba(0, 0, 0, 0) 100%);
    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.95) 69%, rgba(0, 0, 0, 0) 100%);
}

/* for positioning the SVGs */
.ocean {
    position: relative;
    width: 100%;
    height: 100%;
}

/* each SVG fills the stage width and sits at the bottom */
.wave {
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 200%;    /* extra width for slow drift */
    height: 100%;
    transform: translate(-50%, 0);
    fill: currentColor;    /* color from CSS class */
}

/* back layer: slower, lighter */
.wave-back {
    color: var(--wave-back-color);
    opacity: 0.7;
    animation: waveMotionBack 17s ease-in-out infinite;
    animation-delay: -6s;    /* de-sync animations */
}

/* front layer: faster, slightly stronger */
.wave-front {
    color: var(--wave-front-color);
    opacity: 0.6;
    mix-blend-mode: multiply;
    animation: waveMotionFront 12s ease-in-out infinite;
    animation-delay: -2s;    /* different start phase */
}



/* back layer animation — ADDED scaleX(var(--wave-stretch)) */
@keyframes waveMotionBack {
    0% {
        transform: translate(-46%, var(--wave-back-offset)) scaleX(var(--wave-stretch));
    }

    25% {
        transform: translate(-49%, calc(var(--wave-back-offset) - 0.5 * var(--wave-bob-amp))) scaleX(var(--wave-stretch));
    }

    50% {
        transform: translate(-52%, var(--wave-back-offset)) scaleX(var(--wave-stretch));
    }

    75% {
        transform: translate(-49%, calc(var(--wave-back-offset) + 0.5 * var(--wave-bob-amp))) scaleX(var(--wave-stretch));
    }

    100% {
        transform: translate(-46%, var(--wave-back-offset)) scaleX(var(--wave-stretch));
    }
}

/* front layer animation — ADDED scaleX(var(--wave-stretch)) */
@keyframes waveMotionFront {
    0% {
        transform: translate(-45%, var(--wave-front-offset)) scaleX(var(--wave-stretch));
    }

    20% {
        transform: translate(-48%, calc(var(--wave-front-offset) - 1.0 * var(--wave-bob-amp))) scaleX(var(--wave-stretch));
    }

    50% {
        transform: translate(-55%, var(--wave-front-offset)) scaleX(var(--wave-stretch));
    }

    80% {
        transform: translate(-50%, calc(var(--wave-front-offset) + 1.0 * var(--wave-bob-amp))) scaleX(var(--wave-stretch));
    }

    100% {
        transform: translate(-45%, var(--wave-front-offset)) scaleX(var(--wave-stretch));
    }
}



/* ----------------------------
   app windows (hidden by default)
----------------------------- */

/* toggle using :checked logic */
.window { display: none; }

/* when the checkbox is toggled, show the app window */
.window-toggle:checked + .icon-item + .window {
    display: block;
    position: fixed;
    inset-block-end: 0;
    inset-inline: 0;
    inline-size: 100%;
    block-size: 79vh;
    background: var(--bg);
    color: var(--primary);
    border-radius: 1rem 1rem 0 0;    /* top corners only */
    box-shadow: 0 -0.5rem 2rem var(--shadows);    /* rgb is easier to adjust opacity dynamically */
    z-index: 100;    /* make sure app window appears above all other elements*/
    padding-bottom: 1rem;
    overflow-y: auto;    /* allow scrolling if content exceeds view limit */
    animation: slide-up 0.48s ease-out both;    /* botoom sheet looks like it was pulled out of a drawer*/
}


/* desktop dragging */
.window.is-dragging { cursor: grabbing; }

/* while dragging, prevent accidental text selection */
body.is-dragging, body.is-dragging * { user-select: none; }


.window-bar {
    border-radius: 1rem 1rem 0 0;
    display: flex;
    flex-direction: column;    /* vertical stack: handle on top, title bar below */
    padding: 0.25rem 0.75rem 0.75rem;
    font-size: 1.15rem;
    background: var(--muted);
    cursor: grab;    /* hint draggable area (desktop) */
}

/* row with title and close button */
.window-bar-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;    /* vertically align title and ✕ */
}


.window-title {
    font-weight: 700;
    text-transform: uppercase;
    text-align: left;
    font-size: 1.3rem;
    color: var(--accent);
}

.close-button {
    font-size: 1.2rem;
    cursor: pointer;
    color: var(--primary);
}

.drag-handle {
    inline-size: 40px;
    block-size: 5px;
    background: var(--primary);
    border-radius: 4px;
    margin: 0.5rem auto 0.25rem;
    box-shadow: 0 1px 3px var(--shadows);    /* make it feel lifted */
    opacity: 0.6;
    animation: handle-bounce 3s ease-out 1;    /* suggest interactivity */
    cursor: pointer;    /* make the bar look clickable */
}

/* subtle handle bounce animation */
@keyframes handle-bounce {
    0% { transform: translateY(-6px);  opacity: 0; }

    50% { transform: none;  opacity: 0.7; }

    75% { transform: translateY(-1px);  opacity: 0.7; }

    100% { transform: none;  opacity: 0.6; }
}

/* need JS to add delay based on click order */
@keyframes slide-up {
    from { transform: translateY(100%);  opacity: 0.12; }

    to { transform: none;  opacity: 1; }
}


/* adding visual slide-down needs JS: css can't animate unchecked/closed element */


.window-content {
    padding: 1rem;
    font-size: 0.95rem;
}







/* ----------------------------
   links window – stacked buttons
----------------------------- */

/* vertical list container */
.link-list {
    list-style: none;
    display: grid;
    gap: 1rem;
    margin: 1.5rem auto 0;
    padding: 0;
    max-inline-size: 90vw;
}

/* each "button" is a big anchor */
.link-btn {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    gap: 1rem;
    text-decoration: none;
    background: var(--secondary);
    color: var(--muted);
    padding: 1rem 1.25rem;
    border-radius: 0.75rem;
    transition: transform 0.2s ease;
}

/* large, legible icon */
.link-btn .link-icon svg {
    inline-size: clamp(2.2rem, 7vw, 3.2rem);
    block-size: clamp(2.2rem, 7vw, 3.2rem);
    color: currentColor;    /* tabler uses stroke="currentColor" */
}

/* label in ALL CAPS with bigger first letter per word */
.link-btn .link-text {
    display: inline-flex;
    gap: 0.6rem;
    align-items: baseline;
    text-transform: uppercase;
    font-size: clamp(1.1rem, 3.5vw, 1.5rem);
    line-height: 1.15;
    padding-left: 0.75rem;
    font-weight: 800;
}

.link-btn .word::first-letter {
    font-size: 1.8em;    /* bigger first letter for each word */
    line-height: 1;
}

/* polish */
.link-btn:where(:hover, :focus-visible) {
    transform: translateY(-0.15rem);
    outline: none;
}






/* ----------------------------
   larger screens (tablets and computers)
----------------------------- */

@media (min-width:768px) {

    .icon-grid > .icon-wrapper {
        flex: 1 1 calc((100% - (var(--desktop-cols) - 1)*var(--gap)) / var(--desktop-cols)); /* visible icons take up all available space */
    }

    .drag-handle {
        display: none;
    }

    .window-bar {
        padding: 0.75rem 1rem;
    }

    .window-toggle:checked + .icon-item + .window {
        inset-block-start: var(--popout-top);    /* overwritten by JS per-window */
        inset-inline-start: var(--popout-left);    /* overwritten by JS per-window */
        inline-size: 90%;
        max-inline-size: 480px;
        max-block-size: 55vh;    /* 50% of viewport height */
        border-radius: 1rem;
        animation: slide-up 0.2s ease both;    /* quicker pop up on desktop */
        will-change: top, left;    /* drag hint (JS animate positions) */
    }
}
