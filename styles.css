/* ----------------------------
   css variables  (light mode default)
----------------------------- */

:root {
    /* base palette (light) */
    --bg: #ffffff;
    --primary: #222222;
    --secondary: #09a57c;
    --accent: #0077cc;
    --muted: #f7f7f7;
    --shadows: rgba(0 0 0 / 0.25);    /* rgb → new css color-mix syntax */

    /* dark palette (alt colors) */
    --dark-bg: #121929;
    --dark-primary: #d5d5d5;
    --dark-secondary: #01f3caca;
    --dark-accent: #00c8ffee;
    --dark-muted: #0c101be6;
    --dark-shadows: rgba(255 255 255 / 0.20);    /* lighter for visual effect */

    /* fonts */
    --font-reg: 'Helvetica Neue', sans-serif;
    --font-fun: 'Comic Sans MS', sans-serif;
    --font-accent: 'Comic Neue', cursive;

    /* randomize later with JS (make sure to add bounds maxes) */
    --popout-top: 30%;
    --popout-left: 10%;

    /* icon grid clarity */
    --gap: 1rem;
    --mobile-cols: 3;
    --desktop-cols: 6;
}

/* manual dark toggle overrides */
[data-theme="dark"] {
    --bg: var(--dark-bg);
    --primary: var(--dark-primary);
    --secondary: var(--dark-secondary);
    --accent: var(--dark-accent);
    --muted: var(--dark-muted);ff
    --shadows: var(--dark-shadows);
}



/* --------------------------------------
   theme icon (wrapper + images)
-------------------------------------- */

.theme-toggle {
    position: relative;    /* stacking context */
    inline-size: 1.75rem;
    block-size: 1.75rem;
    display: inline-block;    /* gives width/height effect */
    cursor: pointer;    /* tap target hint */
    z-index: 10;    /* ensure tap always hits the label */
}

.theme-toggle img {
    position: absolute;    /* both img tags sit on top of each other */
    inset: 0;    /* fills wrapper */
    margin: auto;    /* center icon in wrapper */
    inline-size: 2rem;
    block-size: 2rem;
    transition: opacity 0.5s ease;    /* fade for smoothness */
    pointer-events: none;    /* lets click pass through to checkbox */
}

/* light icon visible (default) */
.light-icon { opacity: 1; }
.dark-icon { opacity: 0; }

/* dark mode (flips the icon in view) */
[data-theme="dark"] .light-icon { opacity: 0; }
[data-theme="dark"] .dark-icon { opacity: 1; }



/* ----------------------------
   reset + base layout
----------------------------- */

*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    background: var(--bg);
    color: var(--primary);
    font-family: var(--font-fun);
    line-height: 1.5;
    scroll-behavior: smooth;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* global fade every top-level surface surface */
:where(html, body, main.site, header, footer) {
    transition: background-color 0.75s ease,  color 0.55s ease;
}

/* inherit bg var directly (smoother transition) */
header,
footer { background: var(--bg); }

/* keep header padding flexible on mobile */
header { padding: 5%; }



/* ----------------------------
   typography
----------------------------- */

.tagline,
footer p {
    color: var(--primary);
    opacity: 0.75;
    word-spacing: 0.4em;    /* double-space words */
}


/* hero section  */

.hero {
    text-align: center;
    padding: 0 0 1rem 0;
}

.hero h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-block-end: 0.5rem;
}

.hero .hi {
    font-family: var(--font-fun);
    font-size: 2.25rem;
    color: var(--secondary);
}

.hero .highlight-name {
    color: var(--accent);
    font-weight: 800;
}


/* fills extra page height to push down footer */
main { flex: 1; }



/* ----------------------------
   icon grid
----------------------------- */

.icon-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;    /* spacing between icons */
    justify-content: center;    /* center the last row */
    max-width: 900px;    /* prevent grid from being too wide */
    margin: 0 auto;    /* center grid horizontally */
    padding: 1rem;
}

.icon-grid > .icon-wrapper {    /* select direct children  ;  each wrapper becomes a flex-item */
    /* starting width: flex-basis */
    flex: 1 1 calc((100% - (var(--mobile-cols) - 1)*var(--gap)) / var(--mobile-cols)); /* grow / shrink equally ; base width is for a fully populated row */
    max-width: calc((100% - (var(--mobile-cols) - 1)*var(--gap)) / var(--mobile-cols)); /* keep overlow cards the same size as  */
}

/* collapse random icon card smoothly when light-mode is active */
.icon-wrapper.off {
    flex-basis: 0 !important;
    max-width: 0 !important;
    opacity: 0;
    pointer-events: none;
    margin: 0;    /* remove 1rem gap so neighbours slide in */

}


/* smooth grid transitions */
body.ready .icon-grid > .icon-wrapper {
    transition:
        flex-basis 0.2s ease,
        max-width 0.6s ease,
        opacity 0.6s ease,
        margin 0.6s ease;
}

body.ready .icon-wrapper.off {
    transition:
        flex-basis 0.2s ease,
        max-width 0.2s ease,
        opacity 0.2s ease,
        margin 0.2s ease;
}


.icon-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;    /* take out underline */
    color: var(--muted);
    background: var(--secondary);
    padding: 1rem;
    border-radius: 0.75rem;
    transition: transform 0.2s ease;
}

.icon-item img {
    inline-size: clamp(32px, 6vw, 64px);    /* start small on mobile; grow with the screen; stop growing on desktop */
    block-size: clamp(32px, 6vw, 64px);
    margin-block-end: 0.5rem;
}

.icon-item:is(:hover, :focus) {
    transform: scale(1.1);
    outline: none;
}



/* ----------------------------
   footer + wave
----------------------------- */

footer {
    font-size: 0.8rem;
    font-family: var(--font-reg);
    text-align: center;
    padding: 2rem 1rem;
}

.wave-image {
    inline-size: 100%;
    display: block;
    margin-block-start: 2rem;
}



/* ----------------------------
   app windows (hidden by default)
----------------------------- */

/* toggle using :checked logic */
.window { display: none; }

/* when the checkbox is toggled, show the app window */
.window-toggle:checked + .icon-item + .window {
    display: block;
    position: fixed;
    inset-block-end: 0;
    inset-inline: 0;
    inline-size: 100%;
    block-size: 79vh;
    background: var(--bg);
    color: var(--primary);
    border-radius: 1rem 1rem 0 0;    /* top corners only */
    box-shadow: 0 -0.5rem 2rem var(--shadows);    /* rgb is easier to adjust opacity dynamically */
    z-index: 100;    /* make sure app window appears above all other elements*/
    padding-bottom: 1rem;
    overflow-y: auto;    /* allow scrolling if content exceeds view limit */
    animation: slide-up 0.48s ease-out both;    /* botoom sheet looks like it was pulled out of a drawer*/
}

.window-bar {
    border-radius: 1rem 1rem 0 0;
    display: flex;
    flex-direction: column;    /* vertical stack: handle on top, title bar below */
    padding: 0.25rem 0.75rem 0.75rem;
    font-size: 1.15rem;
    background: var(--muted);
}

/* row with title and close button */
.window-bar-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;    /* vertically align title and ✕ */
}


.window-title {
    font-weight: 700;
    text-transform: uppercase;
    text-align: left;
    color: var(--secondary);
}

.close-button {
    font-size: 1.2rem;
    cursor: pointer;
    color: var(--primary);
}

.drag-handle {
    inline-size: 40px;
    block-size: 5px;
    background: var(--primary);
    border-radius: 4px;
    margin: 0.5rem auto 0.25rem;
    box-shadow: 0 1px 3px var(--shadows);    /* make it feel lifted */
    opacity: 0.6;
    animation: handle-bounce 3s ease-out 1;    /* suggest interactivity */
    cursor: pointer;    /* make the bar look clickable */
}

/* subtle handle bounce animation */
@keyframes handle-bounce {
    0% { transform: translateY(-6px);  opacity: 0; }

    50% { transform: none;  opacity: 0.7; }

    75% { transform: translateY(-1px);  opacity: 0.7; }

    100% { transform: none;  opacity: 0.6; }
}

/* need JS to add delay based on click order */
@keyframes slide-up {
    from { transform: translateY(100%);  opacity: 0.12; }

    to { transform: none;  opacity: 1; }
}


/* adding visual slide-down needs JS: css can't animate unchecked/closed element */


.window-content {
    padding: 1rem;
    font-size: 0.95rem;
}




/* ----------------------------
   larger screens (tablets and computers)
----------------------------- */

@media (min-width:768px) {

    .icon-grid > .icon-wrapper {
        flex: 1 1 calc((100% - (var(--desktop-cols) - 1)*var(--gap)) / var(--desktop-cols)); /* visible icons take up all available space */
    }

    .drag-handle {
        display: none;
    }

    .window-bar {
        padding: 0.75rem 1rem;
    }

    .window-toggle:checked + .icon-item + .window {
        inset-block-start: var(--popout-top);    /* overwritten by JS per-window */
        inset-inline-start: var(--popout-left);
        inline-size: 90%;
        max-inline-size: 480px;
        max-block-size: 55vh;    /* 50% of viewport height */
        border-radius: 1rem;
        animation: slide-up 0.2s ease both;    /* quicker pop up on desktop */
    }
}